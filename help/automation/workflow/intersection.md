---
product: campaign
title: 積集合
description: 積集合
feature: Workflows, Targeting Activity
exl-id: 12777107-5ccc-4f19-9dcd-8f6cade3ee98
source-git-commit: 77ec01aaba1e50676bed57f503a9e4e8bb1fe54c
workflow-type: tm+mt
source-wordcount: '410'
ht-degree: 100%

---

# 積集合{#intersection}



「**積集合**」タイプのアクティビティは、受信したターゲットの積集合からターゲットを作成します。

積集合では、インバウンドアクティビティのすべての結果に共通する母集団のみを抽出できます。ターゲットは、受信したすべての結果から作成されます。そのため、すべての先行アクティビティは、積集合が実行される前に完了している必要があります。このアクティビティを設定するには、結果を考慮してアクティビティのラベルとオプションを入力する必要があります。

![](assets/s_user_segmentation_inter.png)

積集合アクティビティの設定と使用について詳しくは、[結合データの抽出（積集合）](targeting-workflows.md#extracting-joint-data--intersection-)を参照してください。

残りの母集団を処理するには、「**[!UICONTROL 補集合を生成]**」オプションをチェックします。補集合には、すべてのインバウンドアクティビティから積集合を引いた結果の和集合が含まれます。その後、次の図のように、追加のアウトバウンドトランジションがアクティビティに追加されます。

![](assets/s_user_segmentation_inter_compl.png)

## 積集合の例 {#intersection-example}

次の例では、積集合の目的は、リストを作成するための 3 つのシンプルなクエリに共通する受信者の計算です。

1. 3 つのシンプルなクエリの後に、「**[!UICONTROL 積集合]**」タイプのアクティビティを挿入します。

   この例では、3 つのクエリはそれぞれ、「男性」、「パリに住んでいる」、「年齢が 18 歳から 30 歳」という属性をターゲティングしています。

1. 積集合を設定します。クエリから生成された母集団に一貫したデータが含まれるので、「**[!UICONTROL キーのみ]**」紐付けメソッドを選択します。
1. クエリに追加データを入力していた場合、該当するボックスを選択することで、受信者に共通するデータのみを保持するように選択することもできます。
1. （積集合ではなく）クエリの残りのデータを使用する場合、「**[!UICONTROL 補集合を生成]**」ボックスを選択します。
1. リスト更新アクティビティを、積集合の結果の Web サイト後に追加しますさらに、使用したい場合は、リスト更新を補集合へも追加できます。
1. ワークフローを実行します。ここでは、入力された 3 つのクエリすべてを同時に当てはまる受信者は 2 人います。補集合は、3 つのクエリのうち 1 つまたは 2 つに当てはまる最大 5 人の受信者から構成されます。

   積集合の結果は、最初のリスト更新に送られます。補集合の使用を選択していた場合、結果は 2 番目のリスト更新にも送られます。

   ![](assets/intersection_example.png)

## 入力パラメーター {#input-parameters}

* tableName
* schema

各インバウンドイベントは、これらのパラメーターによって定義されるターゲットを指定する必要があります。

## 出力パラメーター {#output-parameters}

* tableName
* schema
* recCount

この 3 つの値セットは、積集合によって生成されたターゲットを識別します。**[!UICONTROL tableName]** はターゲットの識別子を記録するテーブル名、**[!UICONTROL schema]** は母集団のスキーマ（通常は **[!UICONTROL nms:recipient]**）、**[!UICONTROL recCount]** はテーブル内の要素の数です。

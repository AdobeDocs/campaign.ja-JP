---
title: Adobe Campaignでのフィルターの作成
description: Campaign でデータをフィルタリングしてフィルターを保存する方法を説明します
feature: Audiences, Profiles
role: Data Engineer
level: Beginner
exl-id: 873578f6-6af9-4d0c-8df3-cce320fc6a4e
source-git-commit: 9c5c5e825294bd39742ecbd07b98a90b4555c138
workflow-type: tm+mt
source-wordcount: '1768'
ht-degree: 33%

---

# フィルターの作成と管理{#create-filters}

データのフィルタリングとは、データセットの一部を選択し、特定の条件に一致するレコードのみを選択し、そのサブセットを特定のアクション（更新、オーディエンスの作成）または分析に使用するプロセスです。

キャンペーンを **[!UICONTROL エクスプローラ]**&#x200B;の場合、データはリストに表示されます。 既存の組み込みフィルターを使用して、このデータの特定のサブセットにアクセスできます。強制隔離されたアドレス、ターゲティングされていない受信者、特定の年齢範囲や作成日など。

独自のフィルターを作成し、後で使用するために保存したり、他の Campaign ユーザーと共有したりすることもできます。

フィルター設定を使用すると、リストからデータを選択できます **[!UICONTROL 動的に]**:データが変更されると、フィルターされたデータが更新されます。

>[!NOTE]
>
>ユーザーインターフェイスの設定は、デバイスレベルでローカルに定義されます。 このデータはクリーンアップが必要になる場合があります。 特に、データの更新時に問題が発生した場合に必要です。それには、**[!UICONTROL ファイル／ローカルキャッシュをクリア]**&#x200B;メニューを使用します。

Adobe Campaignでは、次のタイプのフィルターを使用できます。

## 定義済みフィルター{#predefined-filters}

定義済みフィルターは、 **フィルター** ボタンをクリックします。

例えば、プロファイルの場合、次の組み込みフィルターを使用できます。

![](assets/built-in-filters.png)

フィルターの詳細には、 **[!UICONTROL プロファイルとターゲット/定義済みフィルター]** エクスプローラーのノード。

>[!NOTE]
>
>その他すべてのデータリストについて、定義済みフィルターは  **[!UICONTROL 管理/設定/定義済みフィルター]** ノード。

定義を表示するフィルターを選択します。

![](assets/predefined-filter-list.png)

最後のタブを使用して、フィルターされたデータをプレビューします。

![](assets/built-in-filter-preview.png)


組み込みの定義済みフィルターは次のとおりです。

<table> 
 <tbody> 
  <tr> 
   <td> <strong>ラベル</strong><br /> </td> 
   <td> <strong>クエリ</strong><br /> </td> 
  </tr> 
  <tr> 
   <td> 開封済み<br /> </td> 
   <td> 配信を開封した受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 開封したがクリックしなかった<br /> </td> 
   <td> 配信を開封したがリンクをクリックしていなかった受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> アクティブでない受信者<br /> </td> 
   <td> 配信を X ヶ月間開封していない受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> デバイスタイプ別の最後のアクティビティ<br /> </td> 
   <td> 過去 Z 日間にデバイス X を使用して配信 Y をクリックしたか開封した受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> デバイスタイプ別の最後のアクティビティ（トラッキング）<br /> </td> 
   <td> 過去 Z 日間にデバイス X を使用して配信 Y をクリックしたか開封した受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> ターゲット解除された受信者<br /> </td> 
   <td> チャネル Y 経由で X ヶ月間ターゲットとされていない受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 非常にアクティブな受信者<br /> </td> 
   <td> 過去 Y ヶ月間に少なくとも X 回、配信内でクリックした受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
 <td> ブロックリスト登録済みメールアドレス<br /> </td> 
    <td> E メールアドレスがブロックリストに登録されている受信者を選択します。<br/> </td>
  </tr> 
  <tr> 
   <td> 強制隔離された E メールアドレス<br /> </td> 
   <td> E メールアドレスが強制隔離されている受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> フォルダー内で重複する E メールアドレス<br /> </td> 
   <td> フォルダー内で E メールアドレスが重複している受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 開封もクリックもなし<br /> </td> 
   <td> 配信を開封していなくかつ配信内でクリックもしていない受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 新しい受信者（日数）<br /> </td> 
   <td> 過去 X 日間に作成された受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 新しい受信者（分）<br /> </td> 
   <td> 過去 X 分間に作成された受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 新しい受信者（月）<br /> </td> 
   <td> 過去 X ヶ月間に作成された受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 購読<br /> </td> 
   <td> 購読別に受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 特定のリンクをクリックする<br /> </td> 
   <td> 配信内の特定の URL をクリックした受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 配信後の行動別<br /> </td> 
   <td> 配信の受信後の行動に従って受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 作成日別<br /> </td> 
   <td> X ヶ月（現在の日付 - n ヶ月）から Y ヶ月（現在の日付 - n ヶ月）までの期間で、作成日別に受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> リスト別<br /> </td> 
   <td> リスト別に受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> クリック数別<br /> </td> 
   <td> 過去 X ヶ月間に配信内でクリックした受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 受信したメッセージ数別<br /> </td> 
   <td> 受信したメッセージ数に従って受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 開封数別<br /> </td> 
   <td> Z の期間で X 件から Y 件の配信を開封した受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 名前別または E メール別<br /> </td> 
   <td> 名前または E メールに従って受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 年齢層別<br /> </td> 
   <td> 年齢に従って受信者を選択します。<br /> </td> 
  </tr> 
 </tbody> 
</table>


### デフォルトのフィルター{#default-filters}

各リストの上のフィールドでは、 **定義済みのデフォルトフィルター** 」をクリックします。 デフォルトでは、受信者リストの名前と E メールアドレスでフィルタリングできます。

![](assets/filter-recipient-name.png)


>[!NOTE]
>
>**%** 文字は任意の文字列を置き換えます。例えば、 `%@gmail.com` 「電子メール」フィールドに、Gmail アドレスを持つすべてのプロファイルを表示します。 入力 `%@L` 「姓」フィールドに、姓に L が含まれるすべてのプロファイルを表示します。

受信者リストのデフォルトのフィルターを変更するには、 **[!UICONTROL プロファイルとターゲット/定義済みフィルター]** ノード。

その他のすべてのタイプのデータについては、**[!UICONTROL 管理／設定／定義済みフィルター]**&#x200B;ノードを使用してデフォルトのフィルターを設定します。

次の手順に従います。

1. デフォルトで使用するフィルターを選択します。
1. 「**[!UICONTROL パラメーター]**」タブをクリックし、「**[!UICONTROL 関連付けられたドキュメントタイプのデフォルトのフィルター]**」を選択します。

   ![](assets/change-default-filter.png)

1. 現在のデフォルトの定義済みフィルターに対して、同じオプションのチェックを外します。
1. 「**[!UICONTROL 保存]**」をクリックしてフィルターを適用します。
1. 受信者フォルダーを参照し、 **[!UICONTROL このフィルターを削除]** 現在のフィルターの右側のアイコン：新しいデフォルトのフィルターを使用できます。
   ![](assets/updated-default-filter.png)


## クイックフィルター{#quick-filters}

使用と組み合わせ **クイックフィルター** を使用して、特定のフィールドに対するフィルターを定義します。

クイックフィルターフィールドを追加すると、データリストの上に、次々に表示されます。 これらは、それぞれ個別に削除できます。

クイックフィルターは各オペレーターに固有で、オペレーターがクライアントコンソールのキャッシュをクリアするたびに再初期化されます。

フィルターを再利用する必要がある場合は、 **詳細フィルター** 保存します。 [詳細情報](#advanced-filters)。

を作成するには、以下を実行します。 **クイックフィルター**、次の手順に従います。

1. フィルターするフィールドを右クリックし、「**[!UICONTROL このフィールドでフィルター]**」を選択します。

   ![](assets/quick-filter-on-this-field.png)

   デフォルトのフィルターフィールドがリストの上に表示されます。

   ![](assets/quick-filter-above-list.png)

1. フィルターオプションを選択します。
1. 必要に応じて、フィルターの右側にあるグレーのアイコンを使用して、フィルターを削除します。
1. フィルターを組み合わせて、フィルターを絞り込むことができます。

   ![](assets/add-filter-above-the-list.png)


フォーム内で使用できないフィールドに対してフィルターを実行する必要がある場合は、そのフィールドが列に表示され、その列に対してフィルターが適用されます。 手順は次のとおりです。

1. 次をクリック： **[!UICONTROL リストを設定]** アイコン

   ![](assets/configure-list.png)

1. 表示する列（受信者の年齢など）を選択し、 **Ok**.

   ![](assets/add-age-column.png)

1. 受信者リストで「**年齢**」列を右クリックし、「**[!UICONTROL この列でフィルター]**」を選択します。

   ![](assets/age-filter-on-this-column.png)

   年齢のフィルターオプションを選択できるようになります。年齢に別のフィルターを追加して、範囲を定義します。

   ![](assets/filter-on-age.png)

## 詳細フィルター{#advanced-filters}

で複雑な条件を組み合わせる **詳細フィルター**. これらのフィルターを使用して、データに対する複雑なクエリやクエリの組み合わせを作成します。 これらのフィルターは、保存して、他の Campaign ユーザーと共有できます。

### 詳細フィルターの作成{#create-adv-filters}

次の手順で **詳細フィルター**、 **[!UICONTROL フィルター]** ボタンと選択 **[!UICONTROL 詳細フィルター…]**.

![](assets/adv-filter.png)

また、データのリストを右クリックし、「 」を選択することもできます。 **[!UICONTROL 詳細フィルター…]**.

フィルター条件を定義します。 次の例では、アカウント番号が NL で始まらない受信者、およびパリまたはロサンゼルスに住んでいる受信者をフィルタリングします。

1. 次をクリック： **[!UICONTROL 式を編集]** アイコン **[!UICONTROL 式]** 列。

   ![](assets/edit-exp.png)

1. フィルターするフィールドを選択します。
1. 適用する演算子をドロップダウンリストから選択します。

   ![](assets/select-operator.png)

1. 期待される値を「**[!UICONTROL 値]**」列から選択します。複数のフィルターを組み合わせてクエリを絞り込むことができます。フィルター条件を追加するには、「**[!UICONTROL 追加]**」をクリックします。

   ![](assets/add-an-exp.png)

   >[!NOTE]
   >
   >式に階層を割り当てたり、ツールバーの矢印を使用してクエリ式の順序を変更したりすることができます。

1. 式を組み合わせるには、次の 3 つの演算子を使用できます。  **および**, **または**, **例外**. 矢印をクリックして次に切り替えます。 **または**.

   ![](assets/select-or-operator.png)

1. クリック **[!UICONTROL Ok]** をクリックしてフィルターを作成し、現在のリストに適用します。

適用されるフィルターがリストの上に表示されます。

![](assets/adv-filter-link.png)

このフィルターを編集または変更するには、リストの上にある青色で説明リンクをクリックします。


### 詳細フィルターの保存{#save-adv-filters}

詳細フィルターを  [定義済みフィルター](#predefined-filters)を使用して、他の Campaign ユーザーと再利用および共有できるようにします。

詳細フィルターを保存するには、次の手順に従います。

1. 編集するフィルターの説明をクリックします。
1. 次をクリック： **[!UICONTROL フィルターとして保存]** アイコンをクリックします。

   ![](assets/save-as-filter.png)

1. このフィルターの名前を入力して保存します。

   ![](assets/application-filter-save.png)

フィルターが [定義済みフィルター](#predefined-filters). このノードから更新できます。

![](assets/added-to-predefined-filters.png)

>[!NOTE]
>
>フィルターのショートカットを追加して、キーボードからアクティブにすることができます。



このフィルターは、受信者リストの定義済みフィルターからも使用できます。

![](assets/access-to-new-predefined-filter.png)



### フィルターを使用したセグメントの定義 {#filter-as-segment}

フィルターを使用したり、組み合わせてターゲット母集団セグメントを作成したりできます。

保存すると、メッセージのターゲット母集団を選択する際に、詳細フィルターを **[!UICONTROL ユーザーフィルター]** 」セクションに入力します。

![](assets/adv-filter-target-type.png)


>[!NOTE]
>
>以下を使用： **[!UICONTROL このセグメントから受信者を除外]** ：フィルター条件に一致しない連絡先のみをターゲットにします。


### 関数を使用した詳細フィルターの作成{#use-functions-adv-filters}

高度なフィルター機能を実行するには、関数を使用してフィルターのコンテンツを定義します。 詳細フィルターエディターは、Campaign クエリエディターのすべての機能を利用します。

高度なクエリを作成する方法については、 Adobe Campaign Classic v7 ドキュメントを参照してください。 例：

* で単純な受信者属性をターゲットにする方法を説明します。 [Adobe Campaign Classic v7 ドキュメント](https://experienceleague.adobe.com/docs/campaign-classic/using/automating-with-workflows/targeting-activities/query.html?lang=en#example--targeting-on-simple-recipient-attributes){target=&quot;_blank&quot;}。
* 過去 7 日間に連絡されていない受信者を次の期間でフィルタリングする方法を説明します： [Adobe Campaign Classic v7 ドキュメント](https://experienceleague.adobe.com/docs/campaign-classic/using/automating-with-workflows/use-cases/designing-queries/querying-using-many-to-many-relationship.html?lang=ja){target=&quot;_blank&quot;}。
* オペレーターのリストを復元する方法を、「アクティブなアカウント」でフィルタリングする方法について説明します。 [Adobe Campaign Classic v7 ドキュメント](https://experienceleague.adobe.com/docs/campaign-classic/using/automating-with-workflows/use-cases/designing-queries/creating-a-filter.html){target=&quot;_blank&quot;}。
* で誕生日の E メールオーディエンスを作成する方法を説明します。  [Adobe Campaign Classic v7 ドキュメント](https://experienceleague.adobe.com/docs/campaign-classic/using/automating-with-workflows/use-cases/deliveries/sending-a-birthday-email.html?lang=en#identifying-recipients-whose-birthday-it-is){target=&quot;_blank&quot;}。


### 定義済みフィルターの詳細設定パラメーター {#param-for-data-filters}

定義済みフィルターには、詳細設定パラメーターを使用できます。 これらにアクセスするには、 **[!UICONTROL パラメーター]** 」タブをクリックします。

* このドキュメントタイプに基づくすべてのリストに対してデフォルトでフィルターを表示するには、 **[!UICONTROL 関連付けられたドキュメントタイプのデフォルトのフィルター]** オプション。

   例えば、 **[!UICONTROL 名前別またはログイン別]** フィルターをオペレーターに適用する：このオプションを選択すると、すべてのオペレーターリストに常にフィルターが表示されます。

* フィルターをすべての Campaign オペレーターが使用できるようにするには、  **[!UICONTROL 他のオペレーターと共有するフィルター]** オプション。

* フィルター条件を選択するフォームを定義するには、  **[!UICONTROL パラメータ入力フォームを使用]** オプション。 このフォームは、 **[!UICONTROL フォーム]** タブをクリックします。 例えば、組み込みの定義済みフィルターなどです **[!UICONTROL 開封した受信者]**「 」は受信者リストから使用でき、フィルターを適用する配信を選択できるフィルターフィールドが表示されます。

![](assets/predefined-filters-parameters.png)


* 「**[!UICONTROL 詳細設定パラメーター]**」リンクを使用すると、追加設定を定義できます。

   * SQL テーブルをフィルターに関連付けて、そのテーブルを共有するすべてのエディターで共通にすることができます。
   * ユーザーがフィルターを上書きしないようにするには、 **[!UICONTROL フィルターを制限しない]** オプション。 例えば、配信ウィザードで使用できる「配信の受信者」フィルターと「フォルダーに属する配信の受信者」フィルターに対して、このオプションがアクティブになります。 これらのフィルターはオーバーロードできません。

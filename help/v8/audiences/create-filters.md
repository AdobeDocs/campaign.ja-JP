---
title: Adobe Campaign でのフィルターの作成
description: Campaign でのデータのフィルタリングおよびフィルターの保存方法を学ぶ
feature: Audiences, Profiles
role: User
level: Beginner
exl-id: 873578f6-6af9-4d0c-8df3-cce320fc6a4e
version: Campaign v8, Campaign Classic v7
source-git-commit: 72e3f643d0e53c22c5007aab431689ebeca7403c
workflow-type: tm+mt
source-wordcount: '1999'
ht-degree: 85%

---

# フィルターの操作{#create-filters}

データのフィルタリングとは、特定の条件に一致するレコードのみにデータセットを絞り込むプロセスです。 その後、このサブセットを、ターゲット設定されたアクション（更新やオーディエンスの作成など）や分析に使用できます。

Campaign を参照すると、データがリストに表示されます。 組み込みフィルターを適用すると、強制隔離されたアドレス、ターゲットされていない受信者、特定の年齢範囲や作成日のレコードなど、定義済みのサブセットにすばやくアクセスできます。

さらに、カスタムフィルターを作成し、後で使用するために保存して、他の Campaign ユーザーと共有できます。

フィルターの適用 **動的**：データが変更されるたびに、フィルターされた結果が自動的に更新されます。

>[!NOTE]
>
>ユーザーインターフェイスの設定は、デバイスレベルでローカルに定義されます。 このデータはクリーンアップが必要になる場合があります。 特に、データの更新時に問題が発生した場合に必要です。それには、**[!UICONTROL ファイル／ローカルキャッシュをクリア]**&#x200B;メニューを使用します。

Adobe Campaign では、次のタイプのフィルターを使用できます。

* [定義済みフィルター](#predefined-filters)
* [クイックフィルター](#quick-filters)
* [高度なカスタムフィルター](#advanced-filters)

## 定義済みフィルター{#predefined-filters}

### ダッシュボードの定義済みフィルター

デフォルトでは、Adobe Campaignには、オペレーターが読み取り権限を持つすべてのデータベースレコードが表示されます。 ブラウザーウィンドウの上部にあるオプションを使用して、このデータをフィルタリングできます。

![](assets/filter_web_zone.png)

表示されるデータをフィルターする方法は複数あります。必要に応じて、これらを一緒に使用できます。

* フォルダーのフィルターについては、[フォルダーでフィルター](#filter-by-folder)を参照してください。
* ステータスのフィルターについては、[ステータスでフィルター](#filter-by-status)を参照してください。
* データの並べ替えについては、[並び替え順](#order-by)を参照してください。
* 検索については、[クイック検索](#quick-search)を参照してください。


>[!BEGINTABS]

>[!TAB  フォルダーでフィルター ]

フォルダーに基づいてデータをフィルタリングするには、「**[!UICONTROL フォルダー]**」アイコンをクリックし、表示するデータを含むフォルダーを選択します。

![](assets/filter_web_select_folder.png)

フォルダー内のプロファイルのみが表示されます。

![](assets/filter_web_folder_display.png)

デフォルトの表示モードに戻るには、フォルダー選択フィールドの右側にあるバツ印を使用します。

>[!TAB  ステータスでフィルター ]

表示される情報のタイプに応じて、ステータスのフィルターを適用できます。

例えば配信の場合は、次に示すように、完了した配信のみを表示するように選択できます。

![](assets/filter_delivery.png)

>[!TAB  並べ替え順 ]

「フォルダーごと」のフィルターフィールドの右側にあるドロップダウンリストで、ページに表示されるデータの並べ替え順を選択できます。このフィールドのコンテンツは、ページ上のデータのタイプによって異なります。

例えば、優先度別、作成日別またはアルファベット順でタスクを並べ替えることができます。

![](assets/order_data_sample.png)

>[!TAB  クイック検索 ]

検索フィールドを使用して、探している項目にすばやくアクセスできます。表示する項目のラベルまたは内部名に含まれている文字を入力し、確定してページ上のデータに自動フィルターを適用します。

![](assets/filter_search.png)

再度すべての項目を表示するには、バツ印をクリックして検索フィールドのコンテンツを削除します。

>[!ENDTABS]

### エクスプローラーの定義済みフィルター

定義済みフィルターは、各リストの上にある「**フィルター**」ボタンから使用できます。

例えば、プロファイルの場合、次のビルトインのフィルターを使用できます。

![](assets/built-in-filters.png)

フィルターの詳細には、エクスプローラーの&#x200B;**[!UICONTROL プロファイルとターゲット／定義済みフィルター]**&#x200B;ノードでアクセスできます。

>[!NOTE]
>
>その他のすべてのリストのデータの場合、定義済みフィルターは&#x200B;**[!UICONTROL 管理／設定／定義済みフィルター]**&#x200B;ノードに格納されます。

定義を表示するフィルターを選択します。

![](assets/predefined-filter-list.png)

最後のタブを使用すると、フィルターされたデータをプレビューできます。

![](assets/built-in-filter-preview.png)


+++  プロファイル用の組み込みの定義済みフィルター

<table> 
 <tbody> 
  <tr> 
   <td> <strong>ラベル</strong><br /> </td> 
   <td> <strong>クエリ</strong><br /> </td> 
  </tr> 
  <tr> 
   <td> 開封済み<br /> </td> 
   <td> 配信を開封した受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 開封したがクリックしなかった<br /> </td> 
   <td> 配信を開封したがリンクをクリックしていなかった受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> アクティブでない受信者<br /> </td> 
   <td> 配信を X ヶ月間開封していない受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> デバイスタイプ別の最後のアクティビティ<br /> </td> 
   <td> 過去 Z 日間にデバイス X を使用して配信 Y をクリックしたか開封した受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> デバイスタイプ別の最後のアクティビティ（トラッキング）<br /> </td> 
   <td> 過去 Z 日間にデバイス X を使用して配信 Y をクリックしたか開封した受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> ターゲット解除された受信者<br /> </td> 
   <td> チャネル Y 経由で X ヶ月間ターゲットとされていない受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 非常にアクティブな受信者<br /> </td> 
   <td> 過去 Y ヶ月間に少なくとも X 回、配信内でクリックした受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
 <td> ブロックリスト登録済みメールアドレス<br /> </td> 
    <td> メールアドレスがブロックリストに登録されている受信者を選択します。<br/> </td>
  </tr> 
  <tr> 
   <td> 強制隔離されたメールアドレス<br /> </td> 
   <td> メールアドレスが強制隔離されている受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> フォルダー内で重複するメールアドレス<br /> </td> 
   <td> フォルダー内でメールアドレスが重複している受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 開封もクリックもなし<br /> </td> 
   <td> 配信を開封していなくかつ配信内でクリックもしていない受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 新しい受信者（日数）<br /> </td> 
   <td> 過去 X 日間に作成された受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 新しい受信者（分）<br /> </td> 
   <td> 過去 X 分間に作成された受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 新しい受信者（月）<br /> </td> 
   <td> 過去 X ヶ月間に作成された受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 購読<br /> </td> 
   <td> 購読別に受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 特定のリンクをクリックする<br /> </td> 
   <td> 配信内の特定の URL をクリックした受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 配信後の行動別<br /> </td> 
   <td> 配信の受信後の行動に従って受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 作成日別<br /> </td> 
   <td> X ヶ月（現在の日付 - n ヶ月）から Y ヶ月（現在の日付 - n ヶ月）までの期間で、作成日別に受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> リスト別<br /> </td> 
   <td> リスト別に受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> クリック数別<br /> </td> 
   <td> 過去 X ヶ月間に配信内でクリックした受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 受信したメッセージ数別<br /> </td> 
   <td> 受信したメッセージ数に従って受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 開封数別<br /> </td> 
   <td> Z の期間で X 件から Y 件の配信を開封した受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 名前別またはメール別<br /> </td> 
   <td> 名前またはメールに従って受信者を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td> 年齢層別<br /> </td> 
   <td> 年齢に従って受信者を選択します。<br /> </td> 
  </tr> 
 </tbody> 
</table>

+++

#### デフォルトのフィルター{#default-filters}

各リストの上のフィールドでは、このリストに&#x200B;**デフォルトの定義済みフィルター**&#x200B;を使用できます。受信者リストの場合、デフォルトで名前とメールアドレスでフィルターできます。

![](assets/filter-recipient-name.png)


>[!NOTE]
>
>**%** 文字は任意の文字列を置き換えます。例えば、Gmail アドレスを持つすべてのプロファイルを表示するには、「メール」フィールドに「`%@gmail.com`」と入力します。姓に「L」が含まれるすべてのプロファイルを表示するには、「姓」フィールドに「`%@L`」と入力します。

受信者リストのデフォルトのフィルターを変更するには、**[!UICONTROL プロファイルとターゲット／定義済みフィルター]**&#x200B;ノードを参照します。

その他のすべてのタイプのデータについては、**[!UICONTROL 管理／設定／定義済みフィルター]**&#x200B;ノードを使用してデフォルトのフィルターを設定します。

次の手順に従います。

1. デフォルトで使用するフィルターを選択します。
1. 「**[!UICONTROL パラメーター]**」タブをクリックし、「**[!UICONTROL 関連付けられたドキュメントタイプのデフォルトのフィルター]**」を選択します。

   ![](assets/change-default-filter.png)

1. 現在のデフォルトの定義済みフィルターに対して、同じオプションのチェックを外します。
1. 「**[!UICONTROL 保存]**」をクリックしてフィルターを適用します。
1. 受信者フォルダーを参照し、現在のフィルターの右側にある「**[!UICONTROL このフィルターを削除]**」アイコンをクリックします。新しいデフォルトのフィルターが使用可能です。
   ![](assets/updated-default-filter.png)


## クイックフィルター{#quick-filters}

**クイックフィルター** を設定および組み合わせて、特定のフィールドにカスタムフィルターを作成できます。

追加したクイックフィルターフィールドは、データリストの上に次々と表示されます。これらは、それぞれ個別に削除できます。

クリックフィルターは各オペレーター専用であり、オペレーターがクライアントコンソールのキャッシュをクリアするたびに再初期化されます。

フィルターを再利用する必要がある場合は、**詳細フィルター**&#x200B;を作成して保存します。[詳細情報](#advanced-filters)。

**クイックフィルター** を作成するには、次の手順に従います。

1. フィルターするフィールドを右クリックし、「**[!UICONTROL このフィールドでフィルター]**」を選択します。

   ![](assets/quick-filter-on-this-field.png)

   デフォルトのフィルターフィールドがリストの上に表示されます。

   ![](assets/quick-filter-above-list.png)

1. フィルターオプションを選択します。
1. 必要に応じて、フィルターの右側にあるグレーのアイコンを使用し、フィルターを削除します。
1. フィルターを組み合わせて絞り込むことができます。

   ![](assets/add-filter-above-the-list.png)


フォーム内ではなく列で使用できるフィールドでフィルタリングし、その列でフィルタリングする必要がある場合。 手順は次のとおりです。

1. **[!UICONTROL リストを設定]**&#x200B;アイコンをクリックします。

   ![](assets/configure-list.png)

1. 表示する列（受信者の年齢など）を選択し、「**OK**」をクリックします。

   ![](assets/add-age-column.png)

1. 受信者リストで「**年齢**」列を右クリックし、「**[!UICONTROL この列でフィルター]**」を選択します。

   ![](assets/age-filter-on-this-column.png)

   年齢のフィルターオプションを選択できるようになります。年齢に別のフィルターを追加して、範囲を定義します。

   ![](assets/filter-on-age.png)

## 詳細フィルター{#advanced-filters}

カスタム **詳細フィルター** で複雑な条件を組み合わせます。 これらのフィルターを使用して、データに対する複雑なクエリやクエリの組み合わせを作成します。これらのフィルターは、保存して、他の Campaign ユーザーと共有できます。

### 詳細フィルターの作成{#create-adv-filters}

**詳細フィルター**&#x200B;を作成するには、「**[!UICONTROL フィルター]**」ボタンをクリックして「**[!UICONTROL 詳細フィルター...]**」を選択します。

![](assets/adv-filter.png)

データのリストを右クリックして、「**[!UICONTROL 詳細フィルター...]**」を選択することもできます。

フィルター条件を定義します。次の例では、アカウント番号が NL で始まらず、パリまたはロサンゼルスに住んでいる受信者をフィルターします。

1. 「**[!UICONTROL 式]**」列の「**[!UICONTROL 式を編集]**」アイコンをクリックします。

   ![](assets/edit-exp.png)

1. フィルターするフィールドを選択します。
1. 適用するオペレーターをドロップダウンリストから選択します。

   ![](assets/select-operator.png)

1. 期待される値を「**[!UICONTROL 値]**」列から選択します。複数のフィルターを組み合わせてクエリを絞り込むことができます。フィルター条件を追加するには、「**[!UICONTROL 追加]**」をクリックします。

   ![](assets/add-an-exp.png)

   >[!NOTE]
   >
   >式に階層を割り当てたり、ツールバーの矢印を使用してクエリ式の順序を変更したりすることができます。

1. 式を組み合わせる際に使用できる演算子は、**And**、**Or**、**Except** です。矢印をクリックして「**Or**」に切り替えます。

   ![](assets/select-or-operator.png)

1. 「**[!UICONTROL OK]**」をクリックしてフィルターを作成し、現在のリストに適用します。

適用されるフィルターがリストの上に表示されます。

![](assets/adv-filter-link.png)

このフィルターを編集または変更するには、リストの上にある青色の説明リンクをクリックします。


### 詳細フィルターの保存{#save-adv-filters}

詳細フィルターを[定義済みフィルター](#predefined-filters)として保存し、他の Campaign ユーザーと再利用および共有できるようにします。

詳細フィルターを保存するには、次の手順に従います。

1. 編集するフィルターの説明をクリックします。
1. ウィンドウの右上のセクションにある「**[!UICONTROL フィルターとして保存]**」アイコンをクリックします。

   ![](assets/save-as-filter.png)

1. このフィルターの名前を入力して保存します。

   ![](assets/application-filter-save.png)

フィルターが[定義済みフィルター](#predefined-filters)に追加されます。このノードから更新できます。

![](assets/added-to-predefined-filters.png)

>[!NOTE]
>
>フィルターのショートカットを追加して、キーボードからアクティブにすることができます。



このフィルターは、受信者リストの定義済みフィルターからも使用できます。

![](assets/access-to-new-predefined-filter.png)



### フィルターを使用したセグメントの定義 {#filter-as-segment}

フィルターを使用したり、組み合わせてターゲット母集団セグメントを作成したりできます。

保存すると、「**[!UICONTROL ユーザーフィルター]**」セクションでメッセージのターゲット母集団を選択するときに詳細フィルターを使用できます。

![](assets/adv-filter-target-type.png)


>[!NOTE]
>
>「**[!UICONTROL このセグメントから受信者を除外]**」を使用して、フィルター条件に一致しない連絡先のみをターゲットに設定します。


### 関数を使用した詳細フィルターの作成{#use-functions-adv-filters}

詳細フィルター機能を実行するには、関数を使用してフィルターのコンテンツを定義します。詳細フィルターエディターは、Campaign クエリエディターのすべての機能を利用します。

以下のエンドツーエンドのサンプルで高度なクエリを作成する方法を説明します。

* 単純な受信者属性をターゲットにする方法については、[このページ](https://experienceleague.adobe.com/docs/campaign/automation/workflows/wf-activities/targeting-activities/query.html?lang=ja){target="_blank"}を参照してください。
* 過去 7 日間に連絡されていない受信者をフィルターする方法については、[このページ](https://experienceleague.adobe.com/docs/campaign/automation/workflows/use-cases/designing-queries/query-many-to-many-relationship.html?lang=ja){target="_blank"}を参照してください。
* アクティブなアカウントでフィルターできるオペレーターのリストを復元する方法については、[このページ](https://experienceleague.adobe.com/docs/campaign/automation/workflows/use-cases/designing-queries/create-a-filter.html?lang=ja){target="_blank"}を参照してください。
* 誕生日メールのオーディエンスを作成する方法については、[このページ](https://experienceleague.adobe.com/docs/campaign/automation/workflows/use-cases/deliveries/send-a-birthday-email.html?lang=ja){target="_blank"}を参照してください。


### 定義済みフィルターの詳細設定パラメーター {#param-for-data-filters}

定義済みフィルターには、詳細設定パラメーターを使用できます。 これらにアクセスするには、フィルターの「**[!UICONTROL パラメーター]**」タブを参照します。

* このドキュメントタイプに基づくすべてのリストに対してデフォルトでフィルターを表示するには、「**[!UICONTROL 関連付けられたドキュメントタイプのデフォルトのフィルター]**」オプションを選択します。

  例えば、**[!UICONTROL 名前またはログイン別]**&#x200B;フィルターがオペレーターに適用されます。このオプションが選択されているため、フィルターは常にすべてのオペレーターリストに表示されます。

* すべての Campaign オペレーターがフィルターを使用できるようにするには、「**[!UICONTROL 他のオペレーターと共有するフィルター]**」オプションを選択します。

* フィルター条件を選択するフォームを定義するには、「**[!UICONTROL パラメーター入力フォームを使用する]**」オプションを選択します。 このフォームは、「**[!UICONTROL フォーム]**」タブに XML フォーマットで入力する必要があります。例えば、受信者リストから使用可能なビルトインの定義済みフィルター「**[!UICONTROL 開封済み]**」では、フィルターの適用の配信を選択できるフィルターフィールドが表示されます。

![](assets/predefined-filters-parameters.png)


* 「**[!UICONTROL 詳細設定パラメーター]**」リンクを使用すると、追加設定を定義できます。

   * SQL テーブルをフィルターに関連付けて、そのテーブルを共有するすべてのエディターでそのフィルターを共通にすることができます。
   * ユーザーがフィルターを上書きしないようにするには、「**[!UICONTROL フィルターを制限しない]**」オプションを選択します。例えば、配信ウィザードで使用できる「配信の受信者」フィルターと「フォルダーに属する配信の受信者」フィルターに対して、このオプションがアクティブになります。 これらのフィルターはオーバーロードできません。


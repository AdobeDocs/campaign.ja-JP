---
title: Campaign アーキテクチャの基本を学ぶ
description: 環境とデプロイメントの基本を確認する
feature: Overview
role: Data Engineer
level: Beginner
exl-id: 562b24c3-6bea-447f-b74c-187ab77ae78f
source-git-commit: f071fc227dac6d72873744ba56eb0b4b676de5dd
workflow-type: tm+mt
source-wordcount: '607'
ht-degree: 100%

---

# Campaign アーキテクチャの基本を学ぶ{#gs-ac-archi}

## 環境

Campaign は、完全な Campaign 環境を表す各インスタンスを持つ個々のインスタンスとして使用可能になります。

Campaign Cloud Service では、次の 3 種類の環境を利用できます。

* **実稼動環境**：業務担当者用のアプリケーションをホストします。

* **ステージング環境**：アプリケーションに対する変更を実稼動環境にプッシュする前の様々なパフォーマンスと品質のテストに使用します。

* **開発環境**：開発者がステージング環境および実稼動環境と同じ実行時条件で Campaign を実装できます。

ある環境から別の環境へ、パッケージを書き出したり読み込んだりできます。

↗️ パッケージの詳細については、[Campaign Classic v7 ドキュメント](https://experienceleague.adobe.com/docs/campaign-classic/using/getting-started/administration-basics/working-with-data-packages.html?lang=ja)を参照してください

## ミッドソーシングへのデプロイメント{#mid-sourcing-deployment}

サーバーとプロセス間の一般的な通信は、次のスキーマに従って実行されます。

![](assets/architecture.png)

* 実行とバウンスの管理モジュールがインスタンスで無効になっています。

* アプリケーションは、SOAP 呼び出し（HTTP または HTTPS 経由）を使用して駆動されるリモートの「ミッドソース」サーバーでメッセージを実行するように設定されています。

>[!NOTE]
>
> Campaign v8 はハイブリッドアーキテクチャに基づいています。 Campaign Classic v7 から移行する場合は、すべての配信がミッドソーシングサーバーを経由することに注意してください。
> その結果、Campaign v8 では内部ルーティングは&#x200B;**不可能**&#x200B;で、外部アカウントはそれに応じて無効になっています。

## Message Center のアーキテクチャ{#transac-msg-archi}

トランザクションメッセージ（Message Center）は、トリガーメッセージを管理するために設計された Campaign モジュールです。

トランザクションメッセージを送信する方法については、[この節](../send/transactional.md)を参照してください。

web サイトでの顧客のアクションに応じて、REST API を介してイベントがキャンペーンに送信され、API 呼び出しを介して提供された情報またはデータがメッセージテンプレートに入力され、トランザクションメッセージがリアルタイムで顧客に送信されます。 これらのメッセージは、個別に送信することも、E メール、SMS またはプッシュ通知を介してまとめて送信することもできます。

この特定のアーキテクチャでは、実行セルがコントロールインスタンスから分離されているため、高い可用性と優れた負荷管理が保証されます。

* **コントロールインスタンス**（またはマーケティングインスタンス）は、マーケターや IT チームがメッセージテンプレートの作成、設定および公開に使用します。 このインスタンスは、イベントの監視と履歴も一元化します。

   メッセージテンプレートの作成と公開の方法については、[この節](../send/transactional.md)を参照してください。

* **実行インスタンス**&#x200B;は、受信イベント（パスワードのリセットや web サイトからの注文など）を取得し、パーソナライズされたメッセージを送信します。 ロードバランサーを介してメッセージを処理し処理対象のイベントの数をスケーリングして可用性を最大限に高めるため、複数の実行インスタンスを配置することができます。

>[!CAUTION]
>
>コントロールインスタンスおよび実行インスタンスは、異なるマシンにインストールする必要があります。同じ Campaign インスタンスを共有できなくなります。

![](assets/messagecenter_diagram.png)

### 認証

これらの機能を使用するため、Adobe Campaign のユーザーはコントロールインスタンスにログオンして、トランザクションメッセージテンプレートの作成、シードリストを使用したメッセージプレビューの生成、レポートの表示、実行インスタンスの監視をおこないます。

* 単一の実行インスタンス
アドビがホストする Message Center 実行インスタンスとやり取りする場合、外部システムは、提供されたアカウントのログインとパスワードを使用して、セッションログオンメソッドへの API 呼び出しを行うことで、最初にセッショントークン（デフォルトでは 24 時間で期限切れ）を取得できます。
次に、上記の呼び出しに応答して実行インスタンスが提供する sessionToken を使用して、外部アプリケーションは SOAP API 呼び出し（rtEvents または batchEvents）を行って通信を送信できます。各 SOAP 呼び出しにアカウントのログインとパスワードを含める必要はありません。

* 複数の実行インスタンス
ロードバランサーの背後に複数の実行インスタンスがある複数セル実行アーキテクチャでは、外部アプリケーションが呼び出すログオンメソッドはロードバランサーを経由します。そのため、トークンベースの認証は使用できません。 ユーザー／パスワードベースの認証が必要です。

↗️ トランザクションメッセージのイベントについて詳しくは、[Campaign Classic v7 ドキュメント](https://experienceleague.adobe.com/docs/campaign-classic/using/transactional-messaging/processing/event-description.html?lang=ja#about-transactional-messaging-datamodel)を参照してください
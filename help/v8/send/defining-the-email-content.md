---
product: campaign
title: Adobe Campaignでのメールコンテンツの定義
description: Adobe Campaign を使用する際にメールコンテンツを定義する方法について説明します。
feature: Email Design
role: User
version: Campaign v8, Campaign Classic v7
exl-id: c3e107b5-6d2e-408f-9c7d-a81a4756b4ef
source-git-commit: 3d562aab2f19b84aad8b484768bf19648145feb3
workflow-type: tm+mt
source-wordcount: '2031'
ht-degree: 94%

---

# メールコンテンツの定義 {#defining-the-email-content}

## 送信者 {#sender}

送信するメッセージのヘッダーに表示される送信者の名前とアドレスを定義するには、「**[!UICONTROL 送信者]**」リンクをクリックします。

![](assets/s_ncs_user_wizard_email02.png)

このウィンドウでは、メールのメッセージヘッダーを作成するために必要なすべての情報を入力できます。この情報はパーソナライズ可能です。パーソナライズするには、入力フィールドの右にあるボタンを使用してパーソナライゼーションフィールドを挿入します。

パーソナライゼーションフィールドの挿入および使用方法については、[ この節 ](personalize.md) を参照してください。

>[!NOTE]
>
>* 送信者のアドレスは、デフォルトで返信先として使用されます。
>* ヘッダーパラメーターの値は省略できません。デフォルトでは、ヘッダーパラメーターにはデプロイウィザードの設定時に入力された値が格納されています。
>* 送信者のアドレスは、メールを送信するための必須情報です（RFC 標準規格）。
>* 入力したメールアドレスの形式はチェックされます。

>[!CAUTION]
>
>配信品質の問題を回避するには、配信および返信用に指定したアドレスに対応するメールアカウントが存在し、監視する必要があります。詳しくは、自社のシステム管理者にご相談ください。

## メッセージ件名 {#message-subject}

メッセージの件名は、該当するフィールドで設定します。フィールドに直接入力することも、「**[!UICONTROL 件名]**」リンクをクリックしてスクリプトを入力することもできます。パーソナライゼーションのリンクを使用して、件名の中にデータベースフィールドを挿入できます。

>[!IMPORTANT]
>
>メッセージの件名は必須です。

![](assets/s_ncs_user_wizard_email_object.png)

フィールドの内容は、メッセージが送信される際に、受信者のプロファイルに含まれる値で置き換えられます。

例えば、上のメッセージの場合、受信者のプロファイルから取得したデータに基づいて、受信者ごとに件名がパーソナライズされます。

>[!NOTE]
>
>パーソナライゼーションフィールドの使用については、[ この節 ](personalize.md) を参照してください。

**[!UICONTROL 顔文字を挿入]**&#x200B;ポップアップウィンドウを使用して、件名行に顔文字を挿入することもできます。

## メッセージコンテンツ {#message-content}

>[!IMPORTANT]
>
>プライバシー保護のために、すべての外部リソースに対して HTTPS を使用することをお勧めします。

メッセージの内容は、配信設定ウィンドウの下部のセクションで定義します。

デフォルトのメッセージ送信形式としては、受信者の環境設定に応じて HTML またはテキストのいずれかが使用されます。様々なメールシステム上でメッセージが正しく表示されるように、必ず両方の形式でコンテンツを作成することをお勧めします。詳しくは、[メッセージ形式の選択](email-parameters.md#selecting-message-formats)を参照してください。

* HTML コンテンツをインポートするには、「**[!UICONTROL 開く]**」ボタンを使用します。「**[!UICONTROL ソース]**」サブタブに直接ソースコードを貼り付けることもできます。

  デジタルコンテンツエディター（DCE）を使用している場合は、[Campaign Classic ドキュメント ](https://experienceleague.adobe.com/docs/campaign-classic/using/designing-content/editing-html-content/use-case-creating-an-email-delivery.html#step-3---selecting-a-content) を参照してください。

  >[!IMPORTANT]
  >
  >HTML コンテンツは、事前に作成してから Adobe Campaign にインポートする必要があります。HTML エディターはコンテンツ作成用に設計されたものではありません。

  「**[!UICONTROL プレビュー]**」サブタブでは、特定の受信者向けに各コンテンツをレンダリングした結果を確認できます。コンテンツのパーソナライゼーションフィールドや条件付き要素は、選択したプロファイル内の対応する情報で置き換えられます。

  ツールバーのボタンでは、標準的なアクションや HTML ページ用の書式設定パラメーターを使用できます。

  ![](assets/s_ncs_user_wizard_email01_138.png)

  画像をメッセージに挿入する場合は、ローカルファイルを読み込んで挿入するか、Adobe Campaign の画像ライブラリから挿入できます。そのためには、**[!UICONTROL 画像]**&#x200B;アイコンをクリックし、適切なオプションを選択します。

  ![](assets/s_ncs_user_wizard_email01_18.png)

  ライブラリ画像には、フォルダーツリー内の&#x200B;**[!UICONTROL リソース／オンライン／パブリックリソース]**&#x200B;フォルダーからアクセスできます。[画像の追加](#adding-images)も参照してください。

  ツールバーの最後のボタンは、パーソナライゼーションフィールドを挿入するボタンです。

  >[!NOTE]
  >
  >パーソナライゼーションフィールドの使用については、[ この節 ](personalize.md) を参照してください。

  ページの下部にあるタブでは、作成されるページの HTML コードや、メッセージにパーソナライゼーションを含めたレンダリング結果を表示して確認できます。これらを表示するには、「**[!UICONTROL プレビュー]**」をクリックし、ツールバーの&#x200B;**[!UICONTROL パーソナライゼーションをテスト]**&#x200B;ボタンを使用して受信者を選択します。定義済みターゲットの中から受信者を選択することも、別の受信者を指定することもできます。

  ![](assets/s_ncs_user_wizard_email01_139.png)

  HTML メッセージを検証できます。また、メールヘッダーの内容も確認できます。

  ![](assets/s_ncs_user_wizard_email01_140.png)

* テキストコンテンツをインポートするには、「**[!UICONTROL 開く]**」ボタンを使用するか、メッセージがテキスト形式で表示される場合のメッセージのコンテンツを「**[!UICONTROL テキストコンテンツ]**」タブで入力します。ツールバーのボタンを使用して、コンテンツに対するアクションをします。最後のボタンは、パーソナライゼーションフィールドを挿入するボタンです。

  ![](assets/s_ncs_user_wizard_email01_141.png)

  HTML 形式については、ページ下部の「**[!UICONTROL プレビュー]**」タブをクリックすると、メッセージにパーソナライゼーションを含めたレンダリング結果を表示して確認できます。

  ![](assets/s_ncs_user_wizard_email01_142.png)


## インタラクティブコンテンツの定義 {#amp-for-email-format}

Adobe Campaign では、特定の条件下での動的なメールの送信を可能にする、新しいインタラクティブ [AMP for Email](https://amp.dev/ja/about/email/) フォーマットを試すことができます。

詳しくは、[この節](defining-interactive-content.md)を参照してください。

## コンテンツ管理の使用 {#using-content-management}

配信のコンテンツは、配信アシスタント内から直接コンテンツ管理フォームを使用して定義できます。そのためには、配信プロパティの「**[!UICONTROL 詳細設定]**」タブで、使用するコンテンツ管理のパブリッシュテンプレートを参照する必要があります。

![](assets/s_ncs_content_in_delivery.png)

追加されたタブにコンテンツを入力すると、コンテンツ管理ルールに基づき、このコンテンツの組み込みと書式設定が自動的におこなわれます。

![](assets/s_ncs_content_in_delivery_edition_tab.png)

>[!NOTE]
>
>Adobe Campaignのコンテンツ管理について詳しくは、[Campaign Classic ドキュメント ](https://experienceleague.adobe.com/docs/campaign-classic/using/sending-messages/content-management/about-content-management.html?lang=ja) を参照してください。

## 顔文字の挿入 {#inserting-emoticons}

メールコンテンツに顔文字を挿入できます。

1. **[!UICONTROL 顔文字を挿入]**&#x200B;アイコンをクリックします。
1. ポップアップウィンドウから顔文字を選択します。

   ![](assets/emoticon_4.png)

1. 挿入が完了したら、「**[!UICONTROL 閉じる]**」ボタンをクリックします。

顔文字のリストをカスタマイズするには、[Campaign Classic ドキュメント ](https://experienceleague.adobe.com/docs/campaign-classic/using/sending-messages/personalizing-deliveries/customizing-emoticon-list.html) を参照してください。

## 画像を追加 {#adding-images}

HTML 形式のメール配信には、画像を含めることができます。配信アシスタントで、画像を含んだ HTML ページをインポートするか、HTML エディターの&#x200B;**[!UICONTROL 画像]**&#x200B;アイコンを使用して直接画像を挿入します。


### ガードレール {#img-guardrails}

パフォーマンスの問題を回避するために、メールに含める画像のサイズは 100 KB 以下にする必要があります。この制限は、デフォルトで設定されており、`NmsDelivery_MaxDownloadedImageSize` オプションから変更できます。ただし、アドビでは、メール配信で大きな画像を使用しないことを強くお勧めします。

Campaign オプションのリストについて詳しくは、[Campaign Classic ドキュメント ](https://experienceleague.adobe.com/docs/campaign-classic/using/installing-campaign-classic/appendices/configuring-campaign-options.html#delivery) を参照してください。

### 画像のタイプ {#img-types}

画像に関して、次のことができます。

* ローカル環境にある画像またはサーバー上から取得した画像
* Adobe Campaign のパブリックリソースライブラリに格納されている画像

  パブリックリソースには、Adobe Campaign 階層構造の&#x200B;**[!UICONTROL リソース／オンライン]**&#x200B;ノードからアクセスできます。パブリックリソースは、ライブラリ内でグループ化したり、メールメッセージに含めることができるだけでなく、キャンペーン用、タスク用、コンテンツ管理用に使用することもできます。

* Adobe Experience Cloud と共有されているアセット。[Campaign Classic ドキュメント ](https://experienceleague.adobe.com/docs/campaign-classic/using/integrating-with-adobe-experience-cloud/asset-sharing/sharing-assets-with-adobe-experience-cloud.html) を参照してください。

### 画像の挿入と管理 {#manage-images}

配信アシスタントでは、ローカル環境にある画像またはライブラリに保存されている画像を、メッセージのコンテンツに追加できます。そのためには、HTML コンテンツツールバーの「**[!UICONTROL 画像]**」ボタンをクリックします。

![](assets/s_ncs_user_image_from_library.png)

>[!IMPORTANT]
>
>受け取ったメッセージ内の画像を受信者が表示できるようにするには、メッセージが、外部からアクセス可能なサーバー上に置かれている必要があります。

配信アシスタントを使用して画像を管理するには、以下を実行します。

1. ツールバーの「**[!UICONTROL トラッキング＆画像]**」アイコンをクリックします。
   ![](assets/s_ncs_user_email_del_img_param.png)

1. 「**[!UICONTROL 画像]**」タブの「**[!UICONTROL 画像をアップロード]**」を選択します。
1. その画像をメールメッセージに含めるかどうかを選択できます。
   ![](assets/s_ncs_user_email_del_img_upload.png)

* 配信分析フェーズを待つことなく、手動で画像をアップロードできます。そのためには、「**[!UICONTROL 画像をすぐにアップロード...]**」リンクをクリックします。
* トラッキングサーバー上の画像にアクセスするための、別のパスも指定できます。そのためには、「**[!UICONTROL 画像の URL]**」フィールドにパスを入力します。この値を指定すると、インストールアシスタントのパラメーターで指定した値よりも優先されます。

配信アシスタントで、画像を含んだ HTML コンテンツを開くと、配信パラメーターに従ってすぐに画像をアップロードするかどうかを確認するメッセージが表示されます。

![](assets/s_ncs_user_email_del_img_local.png)

>[!IMPORTANT]
>
> 画像 URL は、手動でのアップロード時やメッセージの送信時に変更されます。
> 

### ユースケース：画像付きメッセージの送信 {#uc-images}

以下に、4 つの画像を含む配信のサンプルを示します。

![](assets/s_ncs_user_images_in_delivery_wiz_1.png)

これらの画像は、ローカルディレクトリ内または Web サイト上から取得されるものとします。画像のある場所は「**[!UICONTROL ソース]**」タブで確認できます。

![](assets/s_ncs_user_images_in_delivery_wiz_2.png)

**[!UICONTROL トラッキングおよび画像]**&#x200B;アイコンをクリックし、次に「**[!UICONTROL 画像]**」タブをクリックして、メッセージに含まれる画像の検出を開始します。

検出されたそれぞれの画像について、次のようにステータスが表示されます。

* ローカル環境内または別のサーバー上にある画像については、そのサーバーが外部から参照可能な状態になっている（例えばインターネットサイト上にある）としても、「**[!UICONTROL まだオンラインではありません]**」と認識されます。
* 別の配信を作成する際に既にアップロードが完了している画像については、「**[!UICONTROL 既にオンラインです]**」と認識されます。
* デプロイウィザードでは、画像検出の対象としない URL を定義できます。それらの URL に該当する画像のアップロードは「**[!UICONTROL スキップ]**」されます。

>[!NOTE]
>
>画像の識別は、アクセスパスではなくコンテンツに基づいておこなわれます。つまり、たとえ以前とは名前やディレクトリが異なっていても、既にアップロードされたことがある画像は「**[!UICONTROL 既にオンラインです]**」と認識されます。

事前にアップロードすることが必要なローカル画像の場合を除き、分析フェーズでは画像がサーバーへと自動的にアップロードされ、外部からアクセスできる状態になります。

画像のアップロード作業を早めにしておくと、他の Adobe Campaign オペレーターがそれらを参照でき、共同作業がスムーズになることがあります。そのためには、「**[!UICONTROL 画像をすぐにアップロード]**」をクリックし、サーバーに画像をアップロードします。

![](assets/s_ncs_user_images_in_delivery_wiz_3.png)

>[!NOTE]
>
>この後、メールに含められる画像の URL（特にファイル名）は変更されます。

画像がオンラインになった後、メッセージの「**[!UICONTROL ソース]**」タブを参照すると、画像の名前やパスがどのように変更されたかを確認できます。

![](assets/s_ncs_user_images_in_delivery_wiz_4.png)

「**[!UICONTROL メールに画像を含める]**」を選択した場合は、対応する列で、含める画像を選択できます。

![](assets/s_ncs_user_images_in_delivery_wiz_5.png)

>[!NOTE]
>
>ローカル画像をメッセージに含める場合は、メッセージのソースコードに適用される変更を確認する必要があります。

## パーソナライズしたバーコードの挿入{#insert-a-barcode}

バーコード生成モジュールを使用して、2D バーコードなど、一般的基準に適合する、複数のタイプのバーコードを作成できます。

顧客側の基準を基に定義された値を使用して、バーコードをビットマップとして動的に生成できます。パーソナライズしたバーコードをメールキャンペーンに含めることができます。受信者は、メッセージを印刷したり、（チェックアウト時などに）発行会社に提示してスキャンしたりできます。

バーコードをメールに挿入するには、表示したいコンテンツ内にカーソルを置いて、パーソナライゼーションボタンをクリックします。**[!UICONTROL 含める／バーコード]**&#x200B;を選択します。

![](assets/barcode_insert_14.png)

ニーズに合わせて次の要素を設定します。

1. バーコードのタイプを選択します。

   * 1D フォーマットの場合、Adobe Campaign で使用できるタイプは、Codabar、コード 128、GS1-128（以前の EAN-128）、UPC-A、UPC-E、ISBN、EAN-8、Code39、インターリーブ 2/5、POSTNET および Royal Mail（RM4SCC）です。

     1D バーコードの例：

     ![](assets/barcode_insert_08.png)

   * DataMatrix タイプと PDF417 タイプは 2D フォーマットを扱います。

     2D バーコードの例：

     ![](assets/barcode_insert_09.png)

   * QR コードを挿入するには、このタイプを選択し、適用する誤り訂正レベルを入力します。このレベルで、データ量とコードの劣化の許容範囲を定義します。

     ![](assets/barcode_insert_06.png)

     QR コードの例：

     ![](assets/barcode_insert_12.png)

1. メールに挿入したいバーコードのサイズを入力します。縮尺を設定することによって、バーコードのサイズを 1 倍から 10 倍まで拡大または縮小できます。
1. 「**[!UICONTROL 値]**」フィールドを使用して、バーコードの値を定義できます。値は、特別オファーに対応させたり、ある基準の関数にすることができます。顧客にリンクされているデータベースフィールドの値にすることも可能です。

   次の例は、受信者のアカウント番号が追加された EAN-8 タイプのバーコードを示しています。このアカウント番号を追加するには、「**[!UICONTROL 値]**」フィールドの右側のパーソナライゼーションボタンをクリックして、**[!UICONTROL 受信者／アカウント番号]**&#x200B;を選択します。

   ![](assets/barcode_insert_15.png)

1. 「**[!UICONTROL 高さ]**」フィールドを使用すると、それぞれの線の間のスペース量を変更することによって、バーコードの幅を変更することなく、バーコードの高さを設定できます。

   バーコードのタイプによる入力コントロールの制限はありません。バーコードの値が正しくない場合、バーコードは&#x200B;**プレビュー**&#x200B;モードで赤色の x 印で消された状態で表示されます。

   >[!NOTE]
   >
   >バーコードに割り当てる値は、バーコードのタイプによって異なります。例えば、EAN-8 タイプは 8 桁でなければなりません。
   >
   >「**[!UICONTROL 値]**」フィールドの右側のパーソナライゼーションボタンを使用して、値自体に加えてデータを追加できます。バーコードの基準に則っていれば、これによりバーコードを充実させることができます。
   >
   >例えば、GS1-128 タイプのバーコードを使用していて、値以外に受信者のアカウント番号を入力したい場合は、パーソナライゼーションボタンをクリックして、**[!UICONTROL 受信者／アカウント番号]**&#x200B;を選択します。選択した受信者のアカウント番号が正しく入力された場合、バーコードはこのアカウント番号を処理します。

これらの要素を設定したら、メールを仕上げて送信できます。エラーを避けるには、「**[!UICONTROL プレビュー]**」タブをクリックして、配信を実行する前にコンテンツが正しく表示されることを常に確認します。

![](assets/barcode_insert_10.png)

>[!NOTE]
>
>バーコードの値が正しくない場合、バーコードのビットマップは赤色の×印で消された状態で表示されます。

![](assets/barcode_insert_11.png)
